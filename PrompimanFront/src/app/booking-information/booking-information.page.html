<ion-header>
  <ion-toolbar>
    <ion-title>เพิ่มข้อมูลการจอง</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <form [formGroup]="fg" (ngSubmit)="handleSubmit()">
    <ion-list lines="none">
      <ion-row>
        <ion-col size="2">
          <ion-item>
            <ion-label>ชื่อ</ion-label>
          </ion-item>
        </ion-col>
        <ion-col size="10">
          <ion-item>
            <ion-input type="text" placeholder="กรุณากรอกข้อมูล" [class.invalid]="isValid('name')"
              formControlName="name"></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size="2"></ion-col>
        <ion-col size="10">
          <ion-item *ngIf="isValid('name')">
            <span class="invalid-msg">
              กรุณากรอกข้อมูล
            </span>
          </ion-item>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col size="2">
          <ion-item>
            <ion-label>เบอร์โทรศัพท์</ion-label>
          </ion-item>
        </ion-col>
        <ion-col size="10">
          <ion-item>
            <ion-input type="text" placeholder="กรุณากรอกข้อมูล" [class.invalid]="isValid('telephone')"
              formControlName="telephone"></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size="2"></ion-col>
        <ion-col size="10">
          <ion-item *ngIf="isValid('telephone')">
            <span class="invalid-msg">
              กรุณากรอกข้อมูล
            </span>
          </ion-item>
        </ion-col>
      </ion-row>

      <app-datetime text="เข้าวันที่" mode="date" [fg]="fg" formName="checkInDate"></app-datetime>
      <app-datetime text="ออกวันที่" mode="date" [fg]="fg" formName="checkOutDate"></app-datetime>

      <ion-row *ngIf="this.fg.get('checkInDate').value != null && this.fg.get('checkOutDate').value != null">
        <ion-col size="2">
          <ion-item>
            <ion-label>ห้อง</ion-label>
          </ion-item>
        </ion-col>
        <ion-col size="9"  (click)="room()" [class.invalid]="isValid('rooms')">
          <ion-item *ngFor="let item of this.fg.get('rooms').value" style="float:left">
            <ion-button color="light" disabled="true">
              {{item.roomNo}}
            </ion-button>
          </ion-item>
        </ion-col>
        <ion-col size="1" [class.invalid]="isValid('rooms')">
          <ion-item (click)="room()">
            <ion-button slot="end">
              <ion-icon name="search-outline"></ion-icon>
            </ion-button>
          </ion-item>
        </ion-col>
      </ion-row>

      <ion-row *ngIf="this.fg.get('checkInDate').value != null && this.fg.get('checkOutDate').value != null">
        <ion-col size="2"></ion-col>
        <ion-col size="10">
          <ion-item *ngIf="isValid('rooms')">
            <span class="invalid-msg">
              กรุณาเลือกห้อง
            </span>
          </ion-item>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col size="2">
          <ion-item>
            <ion-label>เงินสำรองจ่าย</ion-label>
          </ion-item>
        </ion-col>
        <ion-col size="10">
          <ion-item>
            <ion-input type="text" placeholder="กรุณากรอกข้อมูล" [class.invalid]="isValid('reserve')"
              formControlName="reserve"></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size="2"></ion-col>
        <ion-col size="10">
          <ion-item *ngIf="isValid('reserve')">
            <span class="invalid-msg">
              กรุณากรอกข้อมูล
            </span>
          </ion-item>
        </ion-col>
      </ion-row>

      <ion-row class="ion-padding">
        <ion-col size="5.5">
        </ion-col>
        <ion-col size="1">
          <ion-button size="default" expand="block" type="submit">
            ถัดไป</ion-button>
        </ion-col>
        <ion-col size="5.5">
        </ion-col>
      </ion-row>

    </ion-list>
  </form>
</ion-content>